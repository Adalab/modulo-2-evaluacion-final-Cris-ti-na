{"version":3,"sources":["fmain.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst API_DATA = {\n    baseUrl: 'http://api.tvmaze.com',\n    endpoint: 'search/shows'\n};\n\nlet favourites = [];\n\nconst form = document.getElementById('searchForm');\n\nconst setEventListenerToShow = (show, item) => {\n    const {\n        image,\n        name,\n        id\n    } = show;\n\n    item.addEventListener('click', e => {\n        e.preventDefault();\n        const itemToPush = {id, image, name};\n        if (favourites.some(el => el.id === itemToPush.id)) {\n            favourites = favourites.filter(el => el.id !== itemToPush.id);\n            item.classList.remove('favourite');\n        } else {\n            const favouritesList = document.querySelector('#favourites');\n            favourites.push(itemToPush);\n            item.classList.add('favourite');\n            renderShow(itemToPush, favouritesList.querySelector('.series-container-list'));\n        }\n\n    });\n\n}\n\nconst renderShow = (show, target) => {\n    const {\n        image,\n        name,\n    } = show;\n    const altImage = 'https://via.placeholder.com/210x295/ffffff/666666/?text=TV';\n    const altText = 'No hay imagen disponible';\n    const item = document.createElement('div');\n    const template = `\n                    <img src=\"${image ? image.original : altImage}\" \n                         alt=\"${image ? name : altText}\"\n                         title=\"${name}\">\n                    <h3>${name}</h3>\n                    <div class=\"results-item-favourite\">\n                        <i class=\"fa fa-star fa-2x\"><span class=\"reader\">Mark as Favourite</span></i>\n                    </div>\n                `;\n\n    item.classList.add('results-item');\n    item.innerHTML = template;\n\n    setEventListenerToShow(show, item)\n\n    target.appendChild(item);\n}\n\nform.addEventListener('submit', event => {\n    event.preventDefault();\n    const query = document.getElementById('formQuery').value;\n    const apiUrl = `${API_DATA.baseUrl}/${API_DATA.endpoint}?q=${query}`;\n    const target = document.querySelector('#result');\n\n    target.querySelector('.series-container-list').innerHTML = '';\n    fetch(apiUrl)\n        .then(res => res.json())\n        .then(results => {\n            results.forEach(result => {\n                renderShow(result.show, target.querySelector('.series-container-list'));\n            });\n        });\n});","'use strict';\n\nconsole.log('>> Ready :)');\n\nconst form = document.querySelector('#form');\n\nlet shows = []\nlet favourites = []\n\nform.addEventListener('submit', function(event){\n    event.preventDefault();\n    \n    const resultsList = document.querySelector('#resultsList');\n    resultsList.innerHTML = '';\n    \n\n    const search = document.querySelector('#input-search');\n    const searchValue = search.value;\n\n    const API_DATA = {\n        baseUrl: 'http://api.tvmaze.com',\n        endpoint: 'search/shows'\n    }\n    const apiUrl = `${API_DATA.baseUrl}/${API_DATA.endpoint}?q=${searchValue}`;\n\n    fetch(apiUrl)\n        .then(response => response.json())\n        .then(results => {\n            results.forEach(result => {\n                renderShow(result);\n            })                \n        });\n\n    function renderShow (element) {\n        /*\n        // OPERADOR LÓGICO AND / OR\n        const template = `\n            <div class=\"results-item\">   \n            <img    src=\"${(element.show.image && element.show.image.original) || 'https://via.placeholder.com/210x295/ffffff/666666/?text=TV'}\"\n                    alt=\"${(element.show.image && element.show.name) || 'No hay imagen disponible'}\">\n                <h2>${element.show.name}</h2>\n            </div>\n        `;\n        */\n        \n        // OPERADOR TERNARIO\n        const template = `\n            <img\n                src=\"${element.show.image ? element.show.image.original : 'https://via.placeholder.com/210x295/ffffff/666666/?text=TV'}\"\n                alt=\"${element.show.image ? element.show.name : 'No hay imagen disponible'}\">\n            <h3>${element.show.name}</h3>\n        `;\n        const item = document.createElement('div');\n        item.classList.add('results-item');\n        item.innerHTML = template;\n\n        item.addEventListener ('click', (event) => {\n            if (favourites.includes(element)) {\n                console.log('sí');\n                favourites.splice(favourites.indexOf(element), 1);\n                item.classList.remove('favourite');\n            } else {\n                console.log('no');\n                favourites.push(element);\n                item.classList.add('favourite');\n            }\n            //console.log(favourites);\n        });\n\n        resultsList.appendChild(item);\n\n        const favouritesList = document.querySelector('#favouritesList');\n        favouritesList.innerHTML = \n    }\n\n});"]}